# 2D –≤–µ–∫—Ç–æ—Ä—ã

## üìú –ß–∞—Å—Ç—å 1: –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –ö–æ–Ω—Ü–µ–ø—Ü–∏—è. –ß—Ç–æ —Ç–∞–∫–æ–µ `vector<vector<T>>`?

–î–∞–≤–∞–π –Ω–∞—á–Ω–µ–º —Å —Å–∞–º–æ–π –±–æ–ª—å—à–æ–π –ø—Ä–æ–±–ª–µ–º—ã: –≤ C++ **–Ω–µ—Ç** –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π "2D-—Å–µ—Ç–∫–∏".

–ö–æ–≥–¥–∞ —Ç—ã –ø–∏—à–µ—à—å `int arr[5][10];` (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π C-–º–∞—Å—Å–∏–≤), –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–¥–µ–ª—è–µ—Ç —Å–ø–ª–æ—à–Ω–æ–π –±–ª–æ–∫ –ø–∞–º—è—Ç–∏ 5 * 10 = 50 —è—á–µ–µ–∫. –≠—Ç–æ –±—ã—Å—Ç—Ä–æ, –Ω–æ –Ω–µ –≥–∏–±–∫–æ. –ú—ã –Ω–µ –º–æ–∂–µ–º –µ–≥–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å, –Ω–µ –º–æ–∂–µ–º –ª–µ–≥–∫–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ —Ñ—É–Ω–∫—Ü–∏—é –∏ —Ç.–¥.

–ú—ã —Ö–æ—Ç–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::vector`, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –≥–∏–±–∫–∏–π –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–∞–º—è—Ç—å—é –∑–∞ –Ω–∞—Å. –ù–æ `std::vector` ‚Äî **–æ–¥–Ω–æ–º–µ—Ä–Ω—ã–π**.

**–ê–Ω–∞–ª–æ–≥–∏—è ‚Ññ1: –ü–æ–µ–∑–¥.**

* std::vector<int> ‚Äî —ç—Ç–æ –≤–∞–≥–æ–Ω. –í –Ω–µ–º –µ—Å—Ç—å –ø—Ä–æ–Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Å—Ç–∞ (–∏–Ω–¥–µ–∫—Å—ã [0], [1], [2], ...).

std::vector<int> v = {10, 20, 30};

v[1] ‚Äî —ç—Ç–æ 20.
* –ö–∞–∫ –∏–∑ "–≤–∞–≥–æ–Ω–æ–≤" —Å–¥–µ–ª–∞—Ç—å "2D"? –ú—ã –¥–µ–ª–∞–µ–º **–ø–æ–µ–∑–¥, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ –≤–∞–≥–æ–Ω–æ–≤**.
* `std::vector<std::vector<int>>` ‚Äî —ç—Ç–æ **–ø–æ–µ–∑–¥** (–≤–Ω–µ—à–Ω–∏–π `vector`). –ê *—á—Ç–æ* –ª–µ–∂–∏—Ç –≤ —ç—Ç–æ–º –ø–æ–µ–∑–¥–µ? –í –Ω–µ–º –ª–µ–∂–∞—Ç **–≤–∞–≥–æ–Ω—ã** (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ `vector<int>`).

–î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä–µ–º –ø–æ —á–∞—Å—Ç—è–º:

std::vector< ... > ‚Äî —ç—Ç–æ "—Å–ø–∏—Å–æ–∫".

std::vector<std::vector<int>> ‚Äî —ç—Ç–æ "—Å–ø–∏—Å–æ–∫ [—Å–ø–∏—Å–∫–æ–≤ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª]".

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:**

```c++
grid = [
         [v[0], v[1], v[2], v[3], v[4]],  // –≠—Ç–æ grid[0] - –¶–ï–õ–´–ô –í–ï–ö–¢–û–† (–ø–µ—Ä–≤—ã–π —Ä—è–¥)
         [v[0], v[1], v[2], v[3], v[4]],  // –≠—Ç–æ grid[1] - –¶–ï–õ–´–ô –í–ï–ö–¢–û–† (–≤—Ç–æ—Ä–æ–π —Ä—è–¥)
         [v[0], v[1], v[2], v[3], v[4]]   // –≠—Ç–æ grid[2] - –¶–ï–õ–´–ô –í–ï–ö–¢–û–† (—Ç—Ä–µ—Ç–∏–π —Ä—è–¥)
       ]

```

–ö–æ–≥–¥–∞ —Ç—ã –ø–∏—à–µ—à—å grid[1], —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å –≤–µ—Å—å –≤—Ç–æ—Ä–æ–π —Ä—è–¥ (–≤–µ—Å—å "–≤–∞–≥–æ–Ω") —Ü–µ–ª–∏–∫–æ–º.

std::vector<int> second_row = grid[1];

–ê –∫–æ–≥–¥–∞ —Ç—ã –ø–∏—à–µ—à—å `grid[1][3]`, —Ç—ã –≥–æ–≤–æ—Ä–∏—à—å:

1. –î–∞–π –º–Ω–µ `grid[1]` (–¥–∞–π –º–Ω–µ –≤—Ç–æ—Ä–æ–π "–≤–∞–≥–æ–Ω").
2. –¢–µ–ø–µ—Ä—å –∏–∑ *—ç—Ç–æ–≥–æ –≤–∞–≥–æ–Ω–∞* –¥–∞–π –º–Ω–µ `[3]` (–¥–∞–π –º–Ω–µ 4-–µ "–º–µ—Å—Ç–æ").

–í–æ—Ç –ø–æ—á–µ–º—É –ø–æ—Ä—è–¥–æ–∫ `[row][col]` —Ç–∞–∫ –≤–∞–∂–µ–Ω.

* `grid[r]` ‚Äî –≤—ã–±–∏—Ä–∞–µ—Ç **—Ä—è–¥**.
* `grid[r][c]` ‚Äî –≤—ã–±–∏—Ä–∞–µ—Ç **—è—á–µ–π–∫—É** –≤ —ç—Ç–æ–º —Ä—è–¥—É.



## üöÄ –ß–∞—Å—Ç—å 2: –°–æ–∑–¥–∞–Ω–∏–µ 2D –í–µ–∫—Ç–æ—Ä–∞ (–î–æ—Ç–æ—à–Ω–æ)

–î–æ–ø—É—Å—Ç–∏–º, –Ω–∞–º –Ω—É–∂–Ω–∞ —Å–µ—Ç–∫–∞ `ROWS` —Å—Ç—Ä–æ–∫ –∏ `COLS` —Å—Ç–æ–ª–±—Ü–æ–≤.

```c++
int ROWS = 5; // 5 —Å—Ç—Ä–æ–∫
int COLS = 10; // 10 —Å—Ç–æ–ª–±—Ü–æ–≤

```



### –°–ø–æ—Å–æ–± 1: –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–±)

```c++
std::vector<std::vector<int>> grid(ROWS, std::vector<int>(COLS, 0));

```

–î–∞–≤–∞–π —Ä–∞—Å–ø–æ—Ç—Ä–æ—à–∏–º —ç—Ç—É —Å—Ç—Ä–æ–∫—É. –≠—Ç–æ –≤—ã–∑–æ–≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ std::vector.

std::vector<std::vector<int>> grid(...) ‚Äî –º—ã —Å–æ–∑–¥–∞–µ–º grid.

–í —Å–∫–æ–±–∫–∏ –º—ã –ø–µ—Ä–µ–¥–∞–µ–º **–¥–≤–∞** –∞—Ä–≥—É–º–µ–Ω—Ç–∞:

1. **–ê—Ä–≥—É–º–µ–Ω—Ç 1: `ROWS`**

* –≠—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç *–≤–Ω–µ—à–Ω–µ–º—É* –≤–µ–∫—Ç–æ—Ä—É: "–¢—ã –±—É–¥–µ—à—å —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ `ROWS` (—Ç.–µ. 5) —ç–ª–µ–º–µ–Ω—Ç–æ–≤".
* `grid` —Ç–µ–ø–µ—Ä—å –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫: `[ <—Å–ª–æ—Ç 0>, <—Å–ª–æ—Ç 1>, <—Å–ª–æ—Ç 2>, <—Å–ª–æ—Ç 3>, <—Å–ª–æ—Ç 4> ]`

2. **–ê—Ä–≥—É–º–µ–Ω—Ç 2: `std::vector<int>(COLS, 0)`**

* –≠—Ç–æ *–æ–±—Ä–∞–∑–µ—Ü*. –í–Ω–µ—à–Ω–∏–π –≤–µ–∫—Ç–æ—Ä —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç: "–û–∫–µ–π, –∞ *—á–µ–º* –º–Ω–µ –∑–∞–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–∏ 5 —Å–ª–æ—Ç–æ–≤?"
* –ú—ã –µ–º—É –æ—Ç–≤–µ—á–∞–µ–º: "–ó–∞–ø–æ–ª–Ω–∏ –∏—Ö –≤–æ—Ç —ç—Ç–æ–π —à—Ç—É–∫–æ–π".
* –ê —á—Ç–æ —ç—Ç–æ –∑–∞ "—à—Ç—É–∫–∞"? `std::vector<int>(COLS, 0)` ‚Äî —ç—Ç–æ **—Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ 1D-–≤–µ–∫—Ç–æ—Ä–∞** (–æ–¥–Ω–æ–≥–æ "–≤–∞–≥–æ–Ω–∞"), —É –∫–æ—Ç–æ—Ä–æ–≥–æ `COLS` (—Ç.–µ. 10) "–º–µ—Å—Ç", –∏ –∫–∞–∂–¥–æ–µ "–º–µ—Å—Ç–æ" –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `0`.
* –≠—Ç–æ—Ç "–≤–∞–≥–æ–Ω" –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫: `[0, 0, 0, 0, 0, 0, 0, 0, 0, 0]`

–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –∏—Ç–æ–≥–µ:

C++ —Å–æ–∑–¥–∞–µ—Ç —ç—Ç–æ—Ç "–≤–∞–≥–æ–Ω-–æ–±—Ä–∞–∑–µ—Ü" [0, 0, 0, ...] –∏ –∫–æ–ø–∏—Ä—É–µ—Ç –µ–≥–æ 5 —Ä–∞–∑ –≤ 5 —Å–ª–æ—Ç–æ–≤ –Ω–∞—à–µ–≥–æ grid.

```c++
grid = [
         [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],  // <-- –ö–æ–ø–∏—è 1 –æ–±—Ä–∞–∑—Ü–∞ (grid[0])
         [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],  // <-- –ö–æ–ø–∏—è 2 –æ–±—Ä–∞–∑—Ü–∞ (grid[1])
         [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],  // <-- –ö–æ–ø–∏—è 3 –æ–±—Ä–∞–∑—Ü–∞ (grid[2])
         [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],  // <-- –ö–æ–ø–∏—è 4 –æ–±—Ä–∞–∑—Ü–∞ (grid[3])
         [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]   // <-- –ö–æ–ø–∏—è 5 –æ–±—Ä–∞–∑—Ü–∞ (grid[4])
       ]

```

–ë—É–º! –ú—ã –ø–æ–ª—É—á–∏–ª–∏ 2D-—Å–µ—Ç–∫—É 5x10, –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—É—é –Ω—É–ª—è–º–∏.



### –°–ø–æ—Å–æ–± 2: –í—Ä—É—á–Ω—É—é (–ü–æ–Ω—è—Ç–Ω—ã–π, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–±)

–≠—Ç–æ—Ç —Å–ø–æ—Å–æ–± –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É.

```c++
int ROWS = 5;
int COLS = 10;

// 1. –°–æ–∑–¥–∞–µ–º –ü–£–°–¢–û–ô "–ø–æ–µ–∑–¥" (–≤–Ω–µ—à–Ω–∏–π –≤–µ–∫—Ç–æ—Ä). –í –Ω–µ–º 0 "–≤–∞–≥–æ–Ω–æ–≤".
std::vector<std::vector<int>> grid;

// 2. –í–Ω–µ—à–Ω–∏–π —Ü–∏–∫–ª: –º—ã —Ö–æ—Ç–∏–º 5 —Ä–∞–∑ –ø—Ä–∏—Ü–µ–ø–∏—Ç—å "–≤–∞–≥–æ–Ω".
for (int r = 0; r < ROWS; ++r) {
    
    // 3. –°–æ–∑–¥–∞–µ–º –ù–û–í–´–ô, –ü–£–°–¢–û–ô "–≤–∞–≥–æ–Ω" (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π 1D-–≤–µ–∫—Ç–æ—Ä).
    // –ù–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ (r=0, r=1, ...) "–≤–∞–≥–æ–Ω" —Å–æ–∑–¥–∞–µ—Ç—Å—è –ó–ê–ù–û–í–û.
    std::vector<int> new_row;

    // 4. –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ü–∏–∫–ª: –∑–∞–ø–æ–ª–Ω—è–µ–º —ç—Ç–æ—Ç "–≤–∞–≥–æ–Ω" 10-—é "–º–µ—Å—Ç–∞–º–∏".
    for (int c = 0; c < COLS; ++c) {
        
        // 5. –ö–ª–∞–¥–µ–º 0 –Ω–∞ –æ—á–µ—Ä–µ–¥–Ω–æ–µ "–º–µ—Å—Ç–æ" –≤ "–≤–∞–≥–æ–Ω–µ".
        new_row.push_back(0);
    }
    
    // 6. "–í–∞–≥–æ–Ω" new_row —Ç–µ–ø–µ—Ä—å –≥–æ—Ç–æ–≤. –û–Ω –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ [0, 0, ..., 0].
    
    // 7. –ü—Ä–∏—Ü–µ–ø–ª—è–µ–º –ì–û–¢–û–í–´–ô "–≤–∞–≥–æ–Ω" –≤ –∫–æ–Ω–µ—Ü –Ω–∞—à–µ–≥–æ "–ø–æ–µ–∑–¥–∞" grid.
    grid.push_back(new_row);
    
} // –ü–æ–≤—Ç–æ—Ä—è–µ–º –¥–ª—è r=1, r=2, r=3, r=4.

```

–†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–æ—Ç –∂–µ, –Ω–æ –∫–æ–¥–∞ –±–æ–ª—å—à–µ, –∏ `push_back` –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —á—É—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ, —á–µ–º –ø—Ä—è–º–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤ –°–ø–æ—Å–æ–±–µ 1.



## üß≠ –ß–∞—Å—Ç—å 3: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã ‚Äî `grid[r][c]` –ø—Ä–æ—Ç–∏–≤ `(x, y)` (–ì–ª–∞–≤–Ω–∞—è –ü—É—Ç–∞–Ω–∏—Ü–∞!)

–≠—Ç–æ **–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏** –≤–∞–∂–Ω–æ. 99% –æ—à–∏–±–æ–∫ –Ω–æ–≤–∏—á–∫–æ–≤ ‚Äî –∑–¥–µ—Å—å.

–í –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ –∏ –Ω–∞ —É—Ä–æ–∫–∞—Ö –≥–µ–æ–º–µ—Ç—Ä–∏–∏ –Ω–∞—Å —É—á–∞—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º `(x, y)`.

* `x` ‚Äî —ç—Ç–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –æ—Å—å (–≤–ø—Ä–∞–≤–æ).
* `y` ‚Äî —ç—Ç–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –æ—Å—å (–≤–≤–µ—Ä—Ö).

–í –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö, –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å 2D-—Å–µ—Ç–∫–∞–º–∏, –≤—Å–µ **–ü–û–ß–¢–ò** —Ç–∞–∫, –Ω–æ —Å –æ–¥–Ω–∏–º –¥—å—è–≤–æ–ª—å—Å–∫–∏–º –æ—Ç–ª–∏—á–∏–µ–º.

1. **`x` (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å) ‚û°Ô∏è —ç—Ç–æ `c` (—Å—Ç–æ–ª–±–µ—Ü, `col`).** –ù—É–º–µ—Ä–∞—Ü–∏—è `[0], [1], [2], ...` –∏–¥–µ—Ç —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ. –¢—É—Ç –≤—Å–µ —Å—Ö–æ–¥–∏—Ç—Å—è.
2. **`y` (–≤–µ—Ä—Ç–∏–∫–∞–ª—å) ‚û°Ô∏è —ç—Ç–æ `r` (—Å—Ç—Ä–æ–∫–∞, `row`).** –ù—É–º–µ—Ä–∞—Ü–∏—è `[0], [1], [2], ...` –∏–¥–µ—Ç **–°–í–ï–†–•–£ –í–ù–ò–ó**.

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è "–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–π" –°–µ—Ç–∫–∏:**

```c++
          c=0     c=1     c=2     c=3   (–û—Å—å X ->)
        +-------+-------+-------+-------+
r=0 (Y=0)| [0][0] | [0][1] | [0][2] | [0][3] |
        +-------+-------+-------+-------+
r=1 (Y=1)| [1][0] | [1][1] | [1][2] | [1][3] |
        +-------+-------+-------+-------+
r=2 (Y=2)| [2][0] | [2][1] | [2][2] | [2][3] |
        +-------+-------+-------+-------+
  (–û—Å—å Y)
  (  V  )

```

"–í–µ–ª–∏–∫–∏–π –ü–µ—Ä–µ–≤–æ–¥":

–ö–æ–≥–¥–∞ —Ç—ã –≤–∏–¥–∏—à—å –≤ –∑–∞–¥–∞—á–µ "–æ–±—ä–µ–∫—Ç –≤ (x, y)", —Ç—ã –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —ç—Ç–æ –≤ C++ –∫–æ–¥:

> (x, y) –≤ –º–∏—Ä–µ –ª—é–¥–µ–π ‚û°Ô∏è grid[y][x] –≤ –º–∏—Ä–µ C++
> (c, r) –≤ –º–∏—Ä–µ C++ (–µ—Å–ª–∏ —Ç—ã —Ç–∞–∫ –ø—Ä–∏–≤—ã–∫) ‚û°Ô∏è grid[r][c]

–Ø **–Ω–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ** —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –≤ –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `r` (–¥–ª—è `row`) –∏ `c` (–¥–ª—è `col`).

* `int r = ...` (–¥–ª—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã)
* `int c = ...` (–¥–ª—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã)
* –ò –≤—Å–µ–≥–¥–∞ –ø–∏—Å–∞—Ç—å: `grid[r][c]`

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏?**

* **–î–≤–∏–∂–µ–Ω–∏–µ –í–ù–ò–ó:** –ú—ã —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏. `r` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `r + 1`.
* **–î–≤–∏–∂–µ–Ω–∏–µ –í–í–ï–†–•:** –ú—ã —É–º–µ–Ω—å—à–∞–µ–º –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏. `r` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `r - 1`.
* **–î–≤–∏–∂–µ–Ω–∏–µ –í–ü–†–ê–í–û:** –ú—ã —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –Ω–æ–º–µ—Ä —Å—Ç–æ–ª–±—Ü–∞. `c` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `c + 1`.
* **–î–≤–∏–∂–µ–Ω–∏–µ –í–õ–ï–í–û:** –ú—ã —É–º–µ–Ω—å—à–∞–µ–º –Ω–æ–º–µ—Ä —Å—Ç–æ–ª–±—Ü–∞. `c` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `c - 1`.



## ‚õî –ß–∞—Å—Ç—å 4: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å! (–ü—Ä–æ–≤–µ—Ä–∫–∞ –ì—Ä–∞–Ω–∏—Ü `isValid`)

–ß—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ —É —Ç–µ–±—è —Å–µ—Ç–∫–∞ 5x5 (–∏–Ω–¥–µ–∫—Å—ã `r` –æ—Ç 0 –¥–æ 4, `c` –æ—Ç 0 –¥–æ 4) –∏ —Ç—ã –ø–æ–ø—Ä–æ—Å–∏—à—å `grid[5][2]`?

**–¢–≤–æ—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ —É–º—Ä–µ—Ç.** –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "–í—ã—Ö–æ–¥ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –º–∞—Å—Å–∏–≤–∞" (Out-of-Bounds Access) –∏–ª–∏ "–û—à–∏–±–∫–∞ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏" (Segmentation Fault). –¢—ã –ø—ã—Ç–∞–µ—à—å—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–∞–º—è—Ç–∏, –∫–æ—Ç–æ—Ä–∞—è —Ç–µ–±–µ –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç.

**–ü—Ä–∞–≤–∏–ª–æ:** –ü–µ—Ä–µ–¥ *–ª—é–±—ã–º* –æ–±—Ä–∞—â–µ–Ω–∏–µ–º –∫ `grid[r][c]`, –≥–¥–µ `r` –∏–ª–∏ `c` –±—ã–ª–∏ *–≤—ã—á–∏—Å–ª–µ–Ω—ã* (–Ω–∞–ø—Ä–∏–º–µ—Ä, `r-1` –∏–ª–∏ `c+1`), —Ç—ã **–û–ë–Ø–ó–ê–ù** –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —ç—Ç–∏ `r` –∏ `c` "–ª–µ–≥–∞–ª—å–Ω—ã–µ".

–î–ª—è —ç—Ç–æ–≥–æ –º—ã –ø–∏—à–µ–º —Ñ—É–Ω–∫—Ü–∏—é-—Ö–µ–ª–ø–µ—Ä. –û–Ω–∞ –±—É–¥–µ—Ç –Ω–∞—à–∏–º "—Å–ø–∞—Å–∞—Ç–µ–ª—å–Ω—ã–º –∂–∏–ª–µ—Ç–æ–º".

```c++
/*
 * –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è - –Ω–∞—à "—Ñ–µ–π—Å-–∫–æ–Ω—Ç—Ä–æ–ª—å" –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.
 * –û–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç:
 * r, c - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –•–û–¢–ò–ú –ø—Ä–æ–≤–µ—Ä–∏—Ç—å
 * ROWS - –û–ë–©–ï–ï —á–∏—Å–ª–æ —Å—Ç—Ä–æ–∫ –≤ —Å–µ—Ç–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 5)
 * COLS - –û–ë–©–ï–ï —á–∏—Å–ª–æ —Å—Ç–æ–ª–±—Ü–æ–≤ –≤ —Å–µ—Ç–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 10)
 *
 * –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
 * true - –µ—Å–ª–∏ (r, c) –í–ù–£–¢–†–ò —Å–µ—Ç–∫–∏.
 * false - –µ—Å–ª–∏ (r, c) –°–ù–ê–†–£–ñ–ò —Å–µ—Ç–∫–∏.
 */
bool isValid(int r, int c, int ROWS, int COLS) {
    // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Ö–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü—ã. 'r' –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º.
    if (r < 0) {
        return false; // –Ø—á–µ–π–∫–∞ (r,c) "–≤—ã—à–µ" —Å–µ—Ç–∫–∏
    }
    
    // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∏–∂–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü—ã.
    // –ï—Å–ª–∏ ROWS = 5, —Ç–æ –ª–µ–≥–∞–ª—å–Ω—ã–µ 'r' —ç—Ç–æ 0, 1, 2, 3, 4.
    // 'r = 5' —É–∂–µ "–Ω–∏–∂–µ" —Å–µ—Ç–∫–∏.
    if (r >= ROWS) {
        return false; // –Ø—á–µ–π–∫–∞ "–Ω–∏–∂–µ" —Å–µ—Ç–∫–∏
    }
    
    // 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–µ–≤–æ–π –≥—Ä–∞–Ω–∏—Ü—ã. 'c' –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º.
    if (c < 0) {
        return false; // –Ø—á–µ–π–∫–∞ "–ª–µ–≤–µ–µ" —Å–µ—Ç–∫–∏
    }
    
    // 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–æ–π –≥—Ä–∞–Ω–∏—Ü—ã.
    // –ï—Å–ª–∏ COLS = 10, –ª–µ–≥–∞–ª—å–Ω—ã–µ 'c' —ç—Ç–æ 0, 1, ..., 9.
    // 'c = 10' —É–∂–µ "–ø—Ä–∞–≤–µ–µ" —Å–µ—Ç–∫–∏.
    if (c >= COLS) {
        return false; // –Ø—á–µ–π–∫–∞ "–ø—Ä–∞–≤–µ–µ" —Å–µ—Ç–∫–∏
    }
    
    // –ï—Å–ª–∏ –º—ã –ø—Ä–æ—à–ª–∏ –≤—Å–µ 4 –ø—Ä–æ–≤–µ—Ä–∫–∏, –∑–Ω–∞—á–∏—Ç (r, c) - "–≤–∞–ª–∏–¥–Ω–∞—è" —è—á–µ–π–∫–∞.
    return true;
}

```

–ö–æ—Ä–æ—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è —Ç–æ–π –∂–µ —Ñ—É–Ω–∫—Ü–∏–∏:

(–û–Ω–∞ –¥–µ–ª–∞–µ—Ç –∞–±—Å–æ–ª—é—Ç–Ω–æ —Ç–æ –∂–µ —Å–∞–º–æ–µ)

```c++
bool isValid(int r, int c, int ROWS, int COLS) {
    return (r >= 0) &&   // r –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–µ–Ω 0, –ò
           (r < ROWS) && // r –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ú–ï–ù–¨–®–ï —á–µ–º ROWS, –ò
           (c >= 0) &&   // c –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–µ–Ω 0, –ò
           (c < COLS);  // c –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ú–ï–ù–¨–®–ï —á–µ–º COLS
}

```

**–ö–∞–∫ —ç—Ç–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è:**

```c++
int ROWS = 10;
int COLS = 10;
// ... —Å–æ–∑–¥–∞–ª–∏ grid ...

int my_r = 0;
int my_c = 3;

// –•–æ—Ç–∏–º –ø–æ–π—Ç–∏ –í–í–ï–†–• –∏–∑ (0, 3)
int next_r = my_r - 1; // —Å—Ç–∞–Ω–µ—Ç -1
int next_c = my_c;     // –æ—Å—Ç–∞–Ω–µ—Ç—Å—è 3

// –ü–†–û–í–ï–†–Ø–ï–ú –ü–ï–†–ï–î –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï–ú!
if (isValid(next_r, next_c, ROWS, COLS)) {
    // –≠—Ç–æ—Ç –∫–æ–¥ –ù–ï –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è, —Ç.–∫. isValid(-1, 3) –≤–µ—Ä–Ω–µ—Ç false
    char cell = grid[next_r][next_c]; 
} else {
    // –ú—ã –∑–Ω–∞–µ–º, —á—Ç–æ (next_r, next_c) - —ç—Ç–æ "–∑–∞ –∫–∞—Ä—Ç–æ–π".
    // –ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã —É–ø–µ—Ä–ª–∏—Å—å –≤ —Å—Ç–µ–Ω—É.
}

```



## üó∫Ô∏è –ß–∞—Å—Ç—å 5: –ù–∞–≤–∏–≥–∞—Ü–∏—è (–ú–∞—Å—Å–∏–≤—ã `dr` / `dc` ‚Äî –°–µ–∫—Ä–µ—Ç –ü—Ä–æ—Ñ–∏)

–î–æ–ø—É—Å—Ç–∏–º, —Ç—ã —Å—Ç–æ–∏—à—å –≤ —è—á–µ–π–∫–µ `(r, c)` –∏ —Ö–æ—á–µ—à—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ—Ö **4-—Ö —Å–æ—Å–µ–¥–µ–π** (–≤–≤–µ—Ä—Ö, –≤–Ω–∏–∑, –≤–ª–µ–≤–æ, –≤–ø—Ä–∞–≤–æ).

**"–¢—É–ø–æ–π" —Å–ø–æ—Å–æ–± (–Ω–µ –¥–µ–ª–∞–π —Ç–∞–∫):**

```c++
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å–µ–¥–∞ –°–í–ï–†–•–£
if (isValid(r - 1, c, ROWS, COLS)) {
    // ... —á—Ç–æ-—Ç–æ –¥–µ–ª–∞–µ–º —Å grid[r - 1][c]
}
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å–µ–¥–∞ –°–ù–ò–ó–£
if (isValid(r + 1, c, ROWS, COLS)) {
    // ... —á—Ç–æ-—Ç–æ –¥–µ–ª–∞–µ–º —Å grid[r + 1][c]
}
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å–µ–¥–∞ –°–õ–ï–í–ê
if (isValid(r, c - 1, ROWS, COLS)) {
    // ... —á—Ç–æ-—Ç–æ –¥–µ–ª–∞–µ–º —Å grid[r][c - 1]
}
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å–µ–¥–∞ –°–ü–†–ê–í–ê
if (isValid(r, c + 1, ROWS, COLS)) {
    // ... —á—Ç–æ-—Ç–æ –¥–µ–ª–∞–µ–º —Å grid[r][c + 1]
}

```

–≠—Ç–æ –º–Ω–æ–≥–æ –∫–æ–¥–∞. –ê –µ—Å–ª–∏ –Ω–∞–¥–æ 8 —Å–æ—Å–µ–¥–µ–π (—Å –¥–∏–∞–≥–æ–Ω–∞–ª—è–º–∏)? –ö–æ–¥ —Ä–∞–∑–¥—É–µ—Ç—Å—è.

"–£–º–Ω—ã–π" —Å–ø–æ—Å–æ–±:

–î–∞–≤–∞–π –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º "–¥–µ–ª—å—Ç—ã" (–∏–∑–º–µ–Ω–µ–Ω–∏—è) –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç:

* **–í–≤–µ—Ä—Ö:** `r` –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `-1`, `c` –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `0`. –î–µ–ª—å—Ç–∞: `(-1, 0)`
* **–í–Ω–∏–∑:** `r` –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `+1`, `c` –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `0`. –î–µ–ª—å—Ç–∞: `(+1, 0)`
* **–í–ª–µ–≤–æ:** `r` –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `0`, `c` –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `-1`. –î–µ–ª—å—Ç–∞: `( 0, -1)`
* **–í–ø—Ä–∞–≤–æ:** `r` –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `0`, `c` –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `+1`. –î–µ–ª—å—Ç–∞: `( 0, +1)`

–î–∞–≤–∞–π –∑–∞–ø–∏—à–µ–º —ç—Ç–∏ "–¥–µ–ª—å—Ç—ã" –≤ –¥–≤–∞ –º–∞—Å—Å–∏–≤–∞.

dr (delta-row) –∏ dc (delta-col).

```c++
// –ò–Ω–¥–µ–∫—Å 0: –í–≤–µ—Ä—Ö, –ò–Ω–¥–µ–∫—Å 1: –í–Ω–∏–∑, –ò–Ω–¥–µ–∫—Å 2: –í–ª–µ–≤–æ, –ò–Ω–¥–µ–∫—Å 3: –í–ø—Ä–∞–≤–æ
int dr[] = {   -1,     1,      0,       0    };
int dc[] = {    0,     0,     -1,       1    };

```

*–ó–∞–º–µ—Ç—å, –∫–∞–∫ `dr[i]` –∏ `dc[i]` –æ–±—Ä–∞–∑—É—é—Ç –ø–∞—Ä—É.*

* `i = 0`: `(dr[0], dc[0])` = `(-1, 0)` (–í–≤–µ—Ä—Ö)
* `i = 1`: `(dr[1], dc[1])` = `( 1, 0)` (–í–Ω–∏–∑)
* `i = 2`: `(dr[2], dc[2])` = `( 0,-1)` (–í–ª–µ–≤–æ)
* `i = 3`: `(dr[3], dc[3])` = `( 0, 1)` (–í–ø—Ä–∞–≤–æ)

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –∑–∞–º–µ–Ω–∏—Ç—å 4 `if`-–∞ **–æ–¥–Ω–∏–º —Ü–∏–∫–ª–æ–º**:

```c++
int r = 5; // –ù–∞—à–∞ —Ç–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è
int c = 5;

// –¶–∏–∫–ª –ø–æ 4-–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º (i –æ—Ç 0 –¥–æ 3)
for (int i = 0; i < 4; ++i) {
    
    // –í—ã—á–∏—Å–ª—è–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å–æ—Å–µ–¥–∞
    int new_r = r + dr[i];
    int new_c = c + dc[i];
    
    // –ü–†–û–í–ï–†–Ø–ï–ú!
    if (isValid(new_r, new_c, ROWS, COLS)) {
        // –ú—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ (new_r, new_c) - –ª–µ–≥–∞–ª—å–Ω–∞—è —è—á–µ–π–∫–∞.
        // –ú–æ–∂–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ —Å –Ω–µ–π —Ä–∞–±–æ—Ç–∞—Ç—å.
        std::cout << "–°–º–æ—Ç—Ä—é –Ω–∞ —Å–æ—Å–µ–¥–∞ –≤ (" << new_r << ", " << new_c << ")" << std::endl;
        // char neighbor_cell = grid[new_r][new_c];
        // ...
    }
}

```

–≠—Ç–æ—Ç –∫–æ–¥ —á–∏—â–µ, –∫–æ—Ä–æ—á–µ –∏ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ 8 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π).



## üõ°Ô∏è –ß–∞—Å—Ç—å 6: –†–µ—à–µ–Ω–∏–µ –¢–≤–æ–µ–π –ó–∞–¥–∞—á–∏ (–û—Ö—Ä–∞–Ω–Ω–∏–∫–∏) ‚Äî –ü–æ—à–∞–≥–æ–≤—ã–π –ü–ª–∞–Ω

**–ó–∞–¥–∞—á–∞:** –°–µ—Ç–∫–∞ —Å `.` (–ø–æ–ª), `#` (—Å—Ç–µ–Ω–∞), `G` (–æ—Ö—Ä–∞–Ω–Ω–∏–∫). –û—Ö—Ä–∞–Ω–Ω–∏–∫ "—Å—Ç—Ä–µ–ª—è–µ—Ç" –ª—É—á–∞–º–∏ –≤ 4-—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö. –õ—É—á–∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –æ–± —Å—Ç–µ–Ω—É (`#`) –∏–ª–∏ –∫—Ä–∞–π –∫–∞—Ä—Ç—ã. –ù—É–∂–Ω–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ **–ø—É—Å—Ç—ã—Ö** —è—á–µ–µ–∫ (`.`) –≤–∏–¥–Ω–æ *—Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–º—É* –æ—Ö—Ä–∞–Ω–Ω–∏–∫—É.

**–ü–ª–∞–Ω:**

1. **–•—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö.** –ù–∞–º –Ω—É–∂–Ω–æ *–¥–≤–∞* 2D-–≤–µ–∫—Ç–æ—Ä–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞.

* `std::vector<std::vector<char>> grid;` ‚Äî –∑–¥–µ—Å—å –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è **–∫–∞—Ä—Ç–∞** (`.`, `#`, `G`). –≠—Ç–æ –Ω–∞—à–∏ "–≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ".
* `std::vector<std::vector<bool>> isVisible;` ‚Äî –∑–¥–µ—Å—å –º—ã –±—É–¥–µ–º **–æ—Ç–º–µ—á–∞—Ç—å** –≤–∏–¥–∏–º–æ—Å—Ç—å. `isVisible[r][c] = true`, –µ—Å–ª–∏ —è—á–µ–π–∫–∞ `(r, c)` –≤–∏–¥–Ω–∞. `isVisible[r][c] = false`, –µ—Å–ª–∏ –Ω–µ—Ç.
* **–ü–æ—á–µ–º—É –¥–≤–∞?** –ú—ã –Ω–µ –º–æ–∂–µ–º –ø–æ—Ä—Ç–∏—Ç—å –∏—Å—Ö–æ–¥–Ω—É—é –∫–∞—Ä—Ç—É. –ï—Å–ª–∏ –º—ã –æ—Ç–º–µ—Ç–∏–º –≤–∏–¥–∏–º—É—é —è—á–µ–π–∫—É `.` –∫–∞–∫ `V`, —Ç–æ –ª—É—á –¥—Ä—É–≥–æ–≥–æ –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞, –ø—Ä–æ—Ö–æ–¥—è —á–µ—Ä–µ–∑ –Ω–µ–µ, –Ω–µ –±—É–¥–µ—Ç –∑–Ω–∞—Ç—å, —á—Ç–æ —Ç–∞–º *–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ* –±—ã–ª –ø–æ–ª. **–î–∞–Ω–Ω—ã–µ (`grid`) –∏ –°–æ—Å—Ç–æ—è–Ω–∏–µ (`isVisible`) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω—ã.**

2. `std::vector<std::vector<char>> grid;` ‚Äî –∑–¥–µ—Å—å –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è **–∫–∞—Ä—Ç–∞** (`.`, `#`, `G`). –≠—Ç–æ –Ω–∞—à–∏ "–≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ".

3. `std::vector<std::vector<bool>> isVisible;` ‚Äî –∑–¥–µ—Å—å –º—ã –±—É–¥–µ–º **–æ—Ç–º–µ—á–∞—Ç—å** –≤–∏–¥–∏–º–æ—Å—Ç—å. `isVisible[r][c] = true`, –µ—Å–ª–∏ —è—á–µ–π–∫–∞ `(r, c)` –≤–∏–¥–Ω–∞. `isVisible[r][c] = false`, –µ—Å–ª–∏ –Ω–µ—Ç.

4. **–ü–æ—á–µ–º—É –¥–≤–∞?** –ú—ã –Ω–µ –º–æ–∂–µ–º –ø–æ—Ä—Ç–∏—Ç—å –∏—Å—Ö–æ–¥–Ω—É—é –∫–∞—Ä—Ç—É. –ï—Å–ª–∏ –º—ã –æ—Ç–º–µ—Ç–∏–º –≤–∏–¥–∏–º—É—é —è—á–µ–π–∫—É `.` –∫–∞–∫ `V`, —Ç–æ –ª—É—á –¥—Ä—É–≥–æ–≥–æ –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞, –ø—Ä–æ—Ö–æ–¥—è —á–µ—Ä–µ–∑ –Ω–µ–µ, –Ω–µ –±—É–¥–µ—Ç –∑–Ω–∞—Ç—å, —á—Ç–æ —Ç–∞–º *–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ* –±—ã–ª –ø–æ–ª. **–î–∞–Ω–Ω—ã–µ (`grid`) –∏ –°–æ—Å—Ç–æ—è–Ω–∏–µ (`isVisible`) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω—ã.**

5. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è.**
* –°—á–∏—Ç—ã–≤–∞–µ–º `ROWS`, `COLS`.
* –°–æ–∑–¥–∞–µ–º `grid(ROWS, std::vector<char>(COLS))`.
* –°–æ–∑–¥–∞–µ–º `isVisible(ROWS, std::vector<bool>(COLS, false))`. **–í–∞–∂–Ω–æ:** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ —è—á–µ–π–∫–∏ *–Ω–µ–≤–∏–¥–∏–º—ã* (`false`).
* –°–æ–∑–¥–∞–µ–º `std::vector<std::pair<int, int>> guards;` ‚Äî —Å–ø–∏—Å–æ–∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤—Å–µ—Ö –æ—Ö—Ä–∞–Ω–Ω–∏–∫–æ–≤. `pair<int, int>` ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —É–¥–æ–±–Ω–∞—è C++ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–≤—É—Ö —á–∏—Å–µ–ª (–Ω–∞—à–µ–π `r` –∏ `c`).

6. –°—á–∏—Ç—ã–≤–∞–µ–º `ROWS`, `COLS`.

7. –°–æ–∑–¥–∞–µ–º `grid(ROWS, std::vector<char>(COLS))`.

8. –°–æ–∑–¥–∞–µ–º `isVisible(ROWS, std::vector<bool>(COLS, false))`. **–í–∞–∂–Ω–æ:** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ —è—á–µ–π–∫–∏ *–Ω–µ–≤–∏–¥–∏–º—ã* (`false`).

9. –°–æ–∑–¥–∞–µ–º `std::vector<std::pair<int, int>> guards;` ‚Äî —Å–ø–∏—Å–æ–∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤—Å–µ—Ö –æ—Ö—Ä–∞–Ω–Ω–∏–∫–æ–≤. `pair<int, int>` ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —É–¥–æ–±–Ω–∞—è C++ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–≤—É—Ö —á–∏—Å–µ–ª (–Ω–∞—à–µ–π `r` –∏ `c`).

10. **–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ.**
* –ü–∏—à–µ–º –¥–≤–æ–π–Ω–æ–π `for` —Ü–∏–∫–ª (–ø–æ `r` –∏ `c`).
* –°—á–∏—Ç—ã–≤–∞–µ–º `char ch`.
* `grid[r][c] = ch;`
* `if (ch == 'G') { guards.push_back({r, c}); }` ‚Äî `({r, c})` —ç—Ç–æ –∫–æ—Ä–æ—Ç–∫–∞—è –∑–∞–ø–∏—Å—å –¥–ª—è `std::make_pair(r, c)`.

11. –ü–∏—à–µ–º –¥–≤–æ–π–Ω–æ–π `for` —Ü–∏–∫–ª (–ø–æ `r` –∏ `c`).

12. –°—á–∏—Ç—ã–≤–∞–µ–º `char ch`.

13. `grid[r][c] = ch;`

14. `if (ch == 'G') { guards.push_back({r, c}); }` ‚Äî `({r, c})` —ç—Ç–æ –∫–æ—Ä–æ—Ç–∫–∞—è –∑–∞–ø–∏—Å—å –¥–ª—è `std::make_pair(r, c)`.

15. **–û–±—Ä–∞–±–æ—Ç–∫–∞ ("–ü—É—Å–∫–∞–Ω–∏–µ –ª—É—á–µ–π").**
* –≠—Ç–æ —Å–∞–º–∞—è —Å–ª–æ–∂–Ω–∞—è —á–∞—Å—Ç—å.
* `for (const auto& guardPos : guards)`: –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ *–∫–∞–∂–¥–æ–º—É* –æ—Ö—Ä–∞–Ω–Ω–∏–∫—É –≤ –Ω–∞—à–µ–º —Å–ø–∏—Å–∫–µ.
* –í–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ —Ü–∏–∫–ª–∞:

* `int guard_r = guardPos.first;` (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ `r` –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞)
* `int guard_c = guardPos.second;` (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ `c` –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞)
* `isVisible[guard_r][guard_c] = true;` (–°–∞–º –æ—Ö—Ä–∞–Ω–Ω–∏–∫ —Å–µ–±—è "–≤–∏–¥–∏—Ç").
* –¢–µ–ø–µ—Ä—å **–∏–∑ —ç—Ç–æ–π —Ç–æ—á–∫–∏** –ø—É—Å–∫–∞–µ–º 4 –ª—É—á–∞. –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—à `dr/dc` —Ç—Ä—é–∫.
* `for (int i = 0; i < 4; ++i)`: (–¶–∏–∫–ª –ø–æ 4-–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º).

* `int current_r = guard_r;`
* `int current_c = guard_c;`
* `int delta_r = dr[i];`
* `int delta_c = dc[i];`

* –¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–µ–Ω —Ü–∏–∫–ª `while`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç "–¥–≤–∏–≥–∞—Ç—å" –ª—É—á —à–∞–≥ –∑–∞ —à–∞–≥–æ–º *–≤ –æ–¥–Ω–æ–º* –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, –ø–æ–∫–∞ –æ–Ω –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è.
* `while (true)`:

* // –î–µ–ª–∞–µ–º —à–∞–≥ –∏–∑ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–∏

* `current_r += delta_r;`
* `current_c += delta_c;`

* * // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"
* // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"

* `if (!isValid(current_r, current_c, ROWS, COLS)) { break; }` // –õ—É—á —É–ª–µ—Ç–µ–ª –∑–∞ –∫–∞—Ä—Ç—É. –°—Ç–æ–ø.

* * // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"
* // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"

* `if (grid[current_r][current_c] == '#') { break; }` // –õ—É—á —É–ø–µ—Ä—Å—è –≤ —Å—Ç–µ–Ω—É. –°—Ç–æ–ø.
* * // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* `isVisible[current_r][current_c] = true;`

* * // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".
* // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".

* // –ï—Å–ª–∏ –ª—É—á —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ *–¥—Ä—É–≥–æ–≥–æ* –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞, –æ–Ω, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.
* `if (grid[current_r][current_c] == 'G') { break; }`
* // –î–µ–ª–∞–µ–º —à–∞–≥ –∏–∑ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–∏
* `current_r += delta_r;`
* `current_c += delta_c;`

* * // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"
* // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"

* `if (!isValid(current_r, current_c, ROWS, COLS)) { break; }` // –õ—É—á —É–ª–µ—Ç–µ–ª –∑–∞ –∫–∞—Ä—Ç—É. –°—Ç–æ–ø.

* * // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"
* // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"

* `if (grid[current_r][current_c] == '#') { break; }` // –õ—É—á —É–ø–µ—Ä—Å—è –≤ —Å—Ç–µ–Ω—É. –°—Ç–æ–ø.
* * // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* `isVisible[current_r][current_c] = true;`

* * // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".
* // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".

* // –ï—Å–ª–∏ –ª—É—á —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ *–¥—Ä—É–≥–æ–≥–æ* –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞, –æ–Ω, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.
* `if (grid[current_r][current_c] == 'G') { break; }`
* // –ö–æ–Ω–µ—Ü `while` (–ª—É—á –≤ –æ–¥–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω).
* `int current_r = guard_r;`
* `int current_c = guard_c;`
* `int delta_r = dr[i];`
* `int delta_c = dc[i];`
* –¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–µ–Ω —Ü–∏–∫–ª `while`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç "–¥–≤–∏–≥–∞—Ç—å" –ª—É—á —à–∞–≥ –∑–∞ —à–∞–≥–æ–º *–≤ –æ–¥–Ω–æ–º* –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, –ø–æ–∫–∞ –æ–Ω –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è.
* `while (true)`:

* // –î–µ–ª–∞–µ–º —à–∞–≥ –∏–∑ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–∏
* `current_r += delta_r;`
* `current_c += delta_c;`

* * // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"
* // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"

* `if (!isValid(current_r, current_c, ROWS, COLS)) { break; }` // –õ—É—á —É–ª–µ—Ç–µ–ª –∑–∞ –∫–∞—Ä—Ç—É. –°—Ç–æ–ø.

* * // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"
* // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"

* `if (grid[current_r][current_c] == '#') { break; }` // –õ—É—á —É–ø–µ—Ä—Å—è –≤ —Å—Ç–µ–Ω—É. –°—Ç–æ–ø.
* * // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* `isVisible[current_r][current_c] = true;`

* * // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".
* // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".

* // –ï—Å–ª–∏ –ª—É—á —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ *–¥—Ä—É–≥–æ–≥–æ* –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞, –æ–Ω, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.
* `if (grid[current_r][current_c] == 'G') { break; }`
* // –î–µ–ª–∞–µ–º —à–∞–≥ –∏–∑ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–∏
* `current_r += delta_r;`
* `current_c += delta_c;`

* * // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"
* // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"

* `if (!isValid(current_r, current_c, ROWS, COLS)) { break; }` // –õ—É—á —É–ª–µ—Ç–µ–ª –∑–∞ –∫–∞—Ä—Ç—É. –°—Ç–æ–ø.

* * // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"
* // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"

* `if (grid[current_r][current_c] == '#') { break; }` // –õ—É—á —É–ø–µ—Ä—Å—è –≤ —Å—Ç–µ–Ω—É. –°—Ç–æ–ø.
* * // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* `isVisible[current_r][current_c] = true;`
* * // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".
* // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".
* // –ï—Å–ª–∏ –ª—É—á —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ *–¥—Ä—É–≥–æ–≥–æ* –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞, –æ–Ω, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.
* `if (grid[current_r][current_c] == 'G') { break; }`
* // –ö–æ–Ω–µ—Ü `while` (–ª—É—á –≤ –æ–¥–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω).
* // –ö–æ–Ω–µ—Ü `for` (–≤—Å–µ 4 –ª—É—á–∞ –∏–∑ —ç—Ç–æ–π `G` –ø—É—â–µ–Ω—ã).
* `int guard_r = guardPos.first;` (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ `r` –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞)
* `int guard_c = guardPos.second;` (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ `c` –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞)
* `isVisible[guard_r][guard_c] = true;` (–°–∞–º –æ—Ö—Ä–∞–Ω–Ω–∏–∫ —Å–µ–±—è "–≤–∏–¥–∏—Ç").
* –¢–µ–ø–µ—Ä—å **–∏–∑ —ç—Ç–æ–π —Ç–æ—á–∫–∏** –ø—É—Å–∫–∞–µ–º 4 –ª—É—á–∞. –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—à `dr/dc` —Ç—Ä—é–∫.
* `for (int i = 0; i < 4; ++i)`: (–¶–∏–∫–ª –ø–æ 4-–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º).

* `int current_r = guard_r;`
* `int current_c = guard_c;`
* `int delta_r = dr[i];`
* `int delta_c = dc[i];`
* –¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–µ–Ω —Ü–∏–∫–ª `while`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç "–¥–≤–∏–≥–∞—Ç—å" –ª—É—á —à–∞–≥ –∑–∞ —à–∞–≥–æ–º *–≤ –æ–¥–Ω–æ–º* –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, –ø–æ–∫–∞ –æ–Ω –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è.
* `while (true)`:

* // –î–µ–ª–∞–µ–º —à–∞–≥ –∏–∑ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–∏
* `current_r += delta_r;`
* `current_c += delta_c;`

* * // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"
* // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"

* `if (!isValid(current_r, current_c, ROWS, COLS)) { break; }` // –õ—É—á —É–ª–µ—Ç–µ–ª –∑–∞ –∫–∞—Ä—Ç—É. –°—Ç–æ–ø.

* * // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"
* // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"

* `if (grid[current_r][current_c] == '#') { break; }` // –õ—É—á —É–ø–µ—Ä—Å—è –≤ —Å—Ç–µ–Ω—É. –°—Ç–æ–ø.
* * // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* `isVisible[current_r][current_c] = true;`

* * // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".
* // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".

* // –ï—Å–ª–∏ –ª—É—á —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ *–¥—Ä—É–≥–æ–≥–æ* –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞, –æ–Ω, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.
* `if (grid[current_r][current_c] == 'G') { break; }`
* // –î–µ–ª–∞–µ–º —à–∞–≥ –∏–∑ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–∏
* `current_r += delta_r;`
* `current_c += delta_c;`

* * // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"
* // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"

* `if (!isValid(current_r, current_c, ROWS, COLS)) { break; }` // –õ—É—á —É–ª–µ—Ç–µ–ª –∑–∞ –∫–∞—Ä—Ç—É. –°—Ç–æ–ø.

* * // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"
* // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"

* `if (grid[current_r][current_c] == '#') { break; }` // –õ—É—á —É–ø–µ—Ä—Å—è –≤ —Å—Ç–µ–Ω—É. –°—Ç–æ–ø.
* * // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* `isVisible[current_r][current_c] = true;`

* * // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".
* // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".
* // –ï—Å–ª–∏ –ª—É—á —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ *–¥—Ä—É–≥–æ–≥–æ* –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞, –æ–Ω, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.

* `if (grid[current_r][current_c] == 'G') { break; }`
* // –ö–æ–Ω–µ—Ü `while` (–ª—É—á –≤ –æ–¥–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω).
* `int current_r = guard_r;`
* `int current_c = guard_c;`
* `int delta_r = dr[i];`
* `int delta_c = dc[i];`
* –¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–µ–Ω —Ü–∏–∫–ª `while`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç "–¥–≤–∏–≥–∞—Ç—å" –ª—É—á —à–∞–≥ –∑–∞ —à–∞–≥–æ–º *–≤ –æ–¥–Ω–æ–º* –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, –ø–æ–∫–∞ –æ–Ω –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è.
* `while (true)`:

* // –î–µ–ª–∞–µ–º —à–∞–≥ –∏–∑ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–∏
* `current_r += delta_r;`
* `current_c += delta_c;`
* * // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"
* // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"
* `if (!isValid(current_r, current_c, ROWS, COLS)) { break; }` // –õ—É—á —É–ª–µ—Ç–µ–ª –∑–∞ –∫–∞—Ä—Ç—É. –°—Ç–æ–ø.

* * // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"
* // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"

* `if (grid[current_r][current_c] == '#') { break; }` // –õ—É—á —É–ø–µ—Ä—Å—è –≤ —Å—Ç–µ–Ω—É. –°—Ç–æ–ø.
* * // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* `isVisible[current_r][current_c] = true;`

* * // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".
* // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".
* // –ï—Å–ª–∏ –ª—É—á —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ *–¥—Ä—É–≥–æ–≥–æ* –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞, –æ–Ω, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.

* `if (grid[current_r][current_c] == 'G') { break; }`
* // –î–µ–ª–∞–µ–º —à–∞–≥ –∏–∑ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–∏
* `current_r += delta_r;`
* `current_c += delta_c;`

* * // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"
* // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"

* `if (!isValid(current_r, current_c, ROWS, COLS)) { break; }` // –õ—É—á —É–ª–µ—Ç–µ–ª –∑–∞ –∫–∞—Ä—Ç—É. –°—Ç–æ–ø.

* * // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"
* // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"

* `if (grid[current_r][current_c] == '#') { break; }` // –õ—É—á —É–ø–µ—Ä—Å—è –≤ —Å—Ç–µ–Ω—É. –°—Ç–æ–ø.
* * // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* `isVisible[current_r][current_c] = true;`

* * // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".
* // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".

* // –ï—Å–ª–∏ –ª—É—á —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ *–¥—Ä—É–≥–æ–≥–æ* –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞, –æ–Ω, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.
* `if (grid[current_r][current_c] == 'G') { break; }`
* // –ö–æ–Ω–µ—Ü `while` (–ª—É—á –≤ –æ–¥–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω).
* // –ö–æ–Ω–µ—Ü `for` (–≤—Å–µ 4 –ª—É—á–∞ –∏–∑ —ç—Ç–æ–π `G` –ø—É—â–µ–Ω—ã).
* // –ö–æ–Ω–µ—Ü `for` (–≤—Å–µ –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã).

16. –≠—Ç–æ —Å–∞–º–∞—è —Å–ª–æ–∂–Ω–∞—è —á–∞—Å—Ç—å.

17. `for (const auto& guardPos : guards)`: –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ *–∫–∞–∂–¥–æ–º—É* –æ—Ö—Ä–∞–Ω–Ω–∏–∫—É –≤ –Ω–∞—à–µ–º —Å–ø–∏—Å–∫–µ.

18. –í–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ —Ü–∏–∫–ª–∞:

* `int guard_r = guardPos.first;` (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ `r` –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞)
* `int guard_c = guardPos.second;` (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ `c` –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞)
* `isVisible[guard_r][guard_c] = true;` (–°–∞–º –æ—Ö—Ä–∞–Ω–Ω–∏–∫ —Å–µ–±—è "–≤–∏–¥–∏—Ç").
* –¢–µ–ø–µ—Ä—å **–∏–∑ —ç—Ç–æ–π —Ç–æ—á–∫–∏** –ø—É—Å–∫–∞–µ–º 4 –ª—É—á–∞. –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—à `dr/dc` —Ç—Ä—é–∫.
* `for (int i = 0; i < 4; ++i)`: (–¶–∏–∫–ª –ø–æ 4-–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º).

* `int current_r = guard_r;`
* `int current_c = guard_c;`
* `int delta_r = dr[i];`
* `int delta_c = dc[i];`
* –¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–µ–Ω —Ü–∏–∫–ª `while`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç "–¥–≤–∏–≥–∞—Ç—å" –ª—É—á —à–∞–≥ –∑–∞ —à–∞–≥–æ–º *–≤ –æ–¥–Ω–æ–º* –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, –ø–æ–∫–∞ –æ–Ω –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è.
* `while (true)`:

* // –î–µ–ª–∞–µ–º —à–∞–≥ –∏–∑ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–∏
* `current_r += delta_r;`
* `current_c += delta_c;`

* * // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"
* // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"

* `if (!isValid(current_r, current_c, ROWS, COLS)) { break; }` // –õ—É—á —É–ª–µ—Ç–µ–ª –∑–∞ –∫–∞—Ä—Ç—É. –°—Ç–æ–ø.

* * // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"
* // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"

* `if (grid[current_r][current_c] == '#') { break; }` // –õ—É—á —É–ø–µ—Ä—Å—è –≤ —Å—Ç–µ–Ω—É. –°—Ç–æ–ø.
* * // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* `isVisible[current_r][current_c] = true;`

* * // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".
* // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".

* // –ï—Å–ª–∏ –ª—É—á —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ *–¥—Ä—É–≥–æ–≥–æ* –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞, –æ–Ω, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.
* `if (grid[current_r][current_c] == 'G') { break; }`
* // –î–µ–ª–∞–µ–º —à–∞–≥ –∏–∑ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–∏
* `current_r += delta_r;`
* `current_c += delta_c;`

* * // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"
* // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"

* `if (!isValid(current_r, current_c, ROWS, COLS)) { break; }` // –õ—É—á —É–ª–µ—Ç–µ–ª –∑–∞ –∫–∞—Ä—Ç—É. –°—Ç–æ–ø.

* * // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"
* // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"

* `if (grid[current_r][current_c] == '#') { break; }` // –õ—É—á —É–ø–µ—Ä—Å—è –≤ —Å—Ç–µ–Ω—É. –°—Ç–æ–ø.
* * // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* `isVisible[current_r][current_c] = true;`

* * // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".
* // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".

* // –ï—Å–ª–∏ –ª—É—á —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ *–¥—Ä—É–≥–æ–≥–æ* –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞, –æ–Ω, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.
* `if (grid[current_r][current_c] == 'G') { break; }`
* // –ö–æ–Ω–µ—Ü `while` (–ª—É—á –≤ –æ–¥–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω).
* `int current_r = guard_r;`
* `int current_c = guard_c;`
* `int delta_r = dr[i];`
* `int delta_c = dc[i];`
* –¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–µ–Ω —Ü–∏–∫–ª `while`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç "–¥–≤–∏–≥–∞—Ç—å" –ª—É—á —à–∞–≥ –∑–∞ —à–∞–≥–æ–º *–≤ –æ–¥–Ω–æ–º* –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, –ø–æ–∫–∞ –æ–Ω –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è.
* `while (true)`:

* // –î–µ–ª–∞–µ–º —à–∞–≥ –∏–∑ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–∏
* `current_r += delta_r;`
* `current_c += delta_c;`

* * // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"
* // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"

* `if (!isValid(current_r, current_c, ROWS, COLS)) { break; }` // –õ—É—á —É–ª–µ—Ç–µ–ª –∑–∞ –∫–∞—Ä—Ç—É. –°—Ç–æ–ø.

* * // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"
* // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"

* `if (grid[current_r][current_c] == '#') { break; }` // –õ—É—á —É–ø–µ—Ä—Å—è –≤ —Å—Ç–µ–Ω—É. –°—Ç–æ–ø.
* * // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* `isVisible[current_r][current_c] = true;`

* * // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".
* // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".

* // –ï—Å–ª–∏ –ª—É—á —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ *–¥—Ä—É–≥–æ–≥–æ* –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞, –æ–Ω, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.
* `if (grid[current_r][current_c] == 'G') { break; }`
* // –î–µ–ª–∞–µ–º —à–∞–≥ –∏–∑ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–∏
* `current_r += delta_r;`
* `current_c += delta_c;`

* * // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"
* // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"

* `if (!isValid(current_r, current_c, ROWS, COLS)) { break; }` // –õ—É—á —É–ª–µ—Ç–µ–ª –∑–∞ –∫–∞—Ä—Ç—É. –°—Ç–æ–ø.

* * // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"
* // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"

* `if (grid[current_r][current_c] == '#') { break; }` // –õ—É—á —É–ø–µ—Ä—Å—è –≤ —Å—Ç–µ–Ω—É. –°—Ç–æ–ø.
* * // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* `isVisible[current_r][current_c] = true;`

* * // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".
* // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".

* // –ï—Å–ª–∏ –ª—É—á —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ *–¥—Ä—É–≥–æ–≥–æ* –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞, –æ–Ω, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.
* `if (grid[current_r][current_c] == 'G') { break; }`
* // –ö–æ–Ω–µ—Ü `while` (–ª—É—á –≤ –æ–¥–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω).
* // –ö–æ–Ω–µ—Ü `for` (–≤—Å–µ 4 –ª—É—á–∞ –∏–∑ —ç—Ç–æ–π `G` –ø—É—â–µ–Ω—ã).

19. `int guard_r = guardPos.first;` (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ `r` –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞)

20. `int guard_c = guardPos.second;` (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ `c` –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞)

21. `isVisible[guard_r][guard_c] = true;` (–°–∞–º –æ—Ö—Ä–∞–Ω–Ω–∏–∫ —Å–µ–±—è "–≤–∏–¥–∏—Ç").

22. –¢–µ–ø–µ—Ä—å **–∏–∑ —ç—Ç–æ–π —Ç–æ—á–∫–∏** –ø—É—Å–∫–∞–µ–º 4 –ª—É—á–∞. –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—à `dr/dc` —Ç—Ä—é–∫.

23. `for (int i = 0; i < 4; ++i)`: (–¶–∏–∫–ª –ø–æ 4-–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º).

* `int current_r = guard_r;`
* `int current_c = guard_c;`
* `int delta_r = dr[i];`
* `int delta_c = dc[i];`
* –¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–µ–Ω —Ü–∏–∫–ª `while`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç "–¥–≤–∏–≥–∞—Ç—å" –ª—É—á —à–∞–≥ –∑–∞ —à–∞–≥–æ–º *–≤ –æ–¥–Ω–æ–º* –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, –ø–æ–∫–∞ –æ–Ω –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è.
* `while (true)`:

* // –î–µ–ª–∞–µ–º —à–∞–≥ –∏–∑ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–∏
* `current_r += delta_r;`
* `current_c += delta_c;`

* * // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"
* // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"

* `if (!isValid(current_r, current_c, ROWS, COLS)) { break; }` // –õ—É—á —É–ª–µ—Ç–µ–ª –∑–∞ –∫–∞—Ä—Ç—É. –°—Ç–æ–ø.

* * // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"
* // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"

* `if (grid[current_r][current_c] == '#') { break; }` // –õ—É—á —É–ø–µ—Ä—Å—è –≤ —Å—Ç–µ–Ω—É. –°—Ç–æ–ø.
* * // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* `isVisible[current_r][current_c] = true;`

* * // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".
* // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".

* // –ï—Å–ª–∏ –ª—É—á —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ *–¥—Ä—É–≥–æ–≥–æ* –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞, –æ–Ω, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.
* `if (grid[current_r][current_c] == 'G') { break; }`
* // –î–µ–ª–∞–µ–º —à–∞–≥ –∏–∑ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–∏
* `current_r += delta_r;`
* `current_c += delta_c;`

* * // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"
* // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"

* `if (!isValid(current_r, current_c, ROWS, COLS)) { break; }` // –õ—É—á —É–ª–µ—Ç–µ–ª –∑–∞ –∫–∞—Ä—Ç—É. –°—Ç–æ–ø.

* * // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"
* // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"

* `if (grid[current_r][current_c] == '#') { break; }` // –õ—É—á —É–ø–µ—Ä—Å—è –≤ —Å—Ç–µ–Ω—É. –°—Ç–æ–ø.
* * // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* `isVisible[current_r][current_c] = true;`

* * // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".
* // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".

* // –ï—Å–ª–∏ –ª—É—á —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ *–¥—Ä—É–≥–æ–≥–æ* –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞, –æ–Ω, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.
* `if (grid[current_r][current_c] == 'G') { break; }`
* // –ö–æ–Ω–µ—Ü `while` (–ª—É—á –≤ –æ–¥–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω).

24. `int current_r = guard_r;`

25. `int current_c = guard_c;`

26. `int delta_r = dr[i];`

27. `int delta_c = dc[i];`

28. –¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–µ–Ω —Ü–∏–∫–ª `while`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç "–¥–≤–∏–≥–∞—Ç—å" –ª—É—á —à–∞–≥ –∑–∞ —à–∞–≥–æ–º *–≤ –æ–¥–Ω–æ–º* –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, –ø–æ–∫–∞ –æ–Ω –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è.

29. `while (true)`:

* // –î–µ–ª–∞–µ–º —à–∞–≥ –∏–∑ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–∏
* `current_r += delta_r;`
* `current_c += delta_c;`

* * // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"
* // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"

* `if (!isValid(current_r, current_c, ROWS, COLS)) { break; }` // –õ—É—á —É–ª–µ—Ç–µ–ª –∑–∞ –∫–∞—Ä—Ç—É. –°—Ç–æ–ø.

* * // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"
* // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"

* `if (grid[current_r][current_c] == '#') { break; }` // –õ—É—á —É–ø–µ—Ä—Å—è –≤ —Å—Ç–µ–Ω—É. –°—Ç–æ–ø.
* * // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.
* `isVisible[current_r][current_c] = true;`

* * // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".
* // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".

* // –ï—Å–ª–∏ –ª—É—á —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ *–¥—Ä—É–≥–æ–≥–æ* –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞, –æ–Ω, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.
* `if (grid[current_r][current_c] == 'G') { break; }`

30. // –î–µ–ª–∞–µ–º —à–∞–≥ –∏–∑ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–∏

31. `current_r += delta_r;`

32. `current_c += delta_c;`

33. * // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"

34. // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–∫—Ä–∞–π –∫–∞—Ä—Ç—ã"

35. `if (!isValid(current_r, current_c, ROWS, COLS)) { break; }` // –õ—É—á —É–ª–µ—Ç–µ–ª –∑–∞ –∫–∞—Ä—Ç—É. –°—Ç–æ–ø.

36. * // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"

37. // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å—Ç–µ–Ω—É"

38. `if (grid[current_r][current_c] == '#') { break; }` // –õ—É—á —É–ø–µ—Ä—Å—è –≤ —Å—Ç–µ–Ω—É. –°—Ç–æ–ø.

39. * // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.

40. // –ï—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç —è—á–µ–π–∫–∞ (current_r, current_c) –≤–∏–¥–Ω–∞.

41. `isVisible[current_r][current_c] = true;`

42. * // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".

43. // 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –≥–æ–≤–æ—Ä–∏—Ç "—Å—Ç–µ–Ω—ã –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—é—Ç".

44. // –ï—Å–ª–∏ –ª—É—á —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ *–¥—Ä—É–≥–æ–≥–æ* –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞, –æ–Ω, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.

45. `if (grid[current_r][current_c] == 'G') { break; }`

46. // –ö–æ–Ω–µ—Ü `while` (–ª—É—á –≤ –æ–¥–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω).

47. // –ö–æ–Ω–µ—Ü `for` (–≤—Å–µ 4 –ª—É—á–∞ –∏–∑ —ç—Ç–æ–π `G` –ø—É—â–µ–Ω—ã).

48. // –ö–æ–Ω–µ—Ü `for` (–≤—Å–µ –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã).

49. **–ü–æ–¥—Å—á–µ—Ç.**

* –¢–µ–ø–µ—Ä—å –∫–∞—Ä—Ç–∞ `isVisible` –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø–æ–ª–Ω–µ–Ω–∞.
* `int visible_empty_cells = 0;`
* –°–Ω–æ–≤–∞ –¥–≤–æ–π–Ω–æ–π `for` —Ü–∏–∫–ª (–ø–æ `r` –∏ `c`).
* –ü—Ä–æ–≤–µ—Ä—è–µ–º **–î–í–ê** —É—Å–ª–æ–≤–∏—è:
* `if (isVisible[r][c] == true && grid[r][c] == '.') {`

* `visible_empty_cells++;`
* `visible_empty_cells++;`
* `}`
* `std::cout << visible_empty_cells << std::endl;`

50. –¢–µ–ø–µ—Ä—å –∫–∞—Ä—Ç–∞ `isVisible` –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø–æ–ª–Ω–µ–Ω–∞.

51. `int visible_empty_cells = 0;`

52. –°–Ω–æ–≤–∞ –¥–≤–æ–π–Ω–æ–π `for` —Ü–∏–∫–ª (–ø–æ `r` –∏ `c`).

53. –ü—Ä–æ–≤–µ—Ä—è–µ–º **–î–í–ê** —É—Å–ª–æ–≤–∏—è:

54. `if (isVisible[r][c] == true && grid[r][c] == '.') {`

* `visible_empty_cells++;`

55. `visible_empty_cells++;`

56. `}`

57. `std::cout << visible_empty_cells << std::endl;`



### –ü—Ä–∏–º–µ—Ä –ö–æ–¥–∞ (–¢–≤–æ—è –∑–∞–¥–∞—á–∞):

```c++
#include <iostream>
#include <vector>
#include <string>

// –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã (alias) –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —á—Ç–µ–Ω–∏—è
using Grid = std::vector<std::vector<char>>;
using VisibleMap = std::vector<std::vector<bool>>;
using Coord = std::pair<int, int>; // {row, col}

// --- –ù–∞—à–∞ —Ñ—É–Ω–∫—Ü–∏—è-—Å–ø–∞—Å–∞—Ç–µ–ª—å ---
bool isValid(int r, int c, int ROWS, int COLS) {
    return r >= 0 && r < ROWS && c >= 0 && c < COLS;
}

// --- –ú–∞—Å—Å–∏–≤—ã —Å–º–µ—â–µ–Ω–∏–π (–≥–ª–æ–±–∞–ª—å–Ω—ã–µ, —Ç.–∫. –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã) ---
int dr[] = {-1, 1, 0, 0}; // –í–≤–µ—Ä—Ö, –í–Ω–∏–∑
int dc[] = { 0, 0,-1, 1}; // –í–ª–µ–≤–æ, –í–ø—Ä–∞–≤–æ

int main() {
    // --- 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (–î–ª—è –ø—Ä–∏–º–µ—Ä–∞, –∫–∞—Ä—Ç–∞ "–∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–∞") ---
    std::vector<std::string> map_input = {
        ".......",
        ".#G....", // –û—Ö—Ä–∞–Ω–Ω–∏–∫ G(1, 2)
        ".......",
        "....#..", // –°—Ç–µ–Ω–∞
        ".G.....", // –û—Ö—Ä–∞–Ω–Ω–∏–∫ G(4, 1)
        "......."
    };

    int ROWS = map_input.size();
    int COLS = map_input[0].size();

    Grid grid(ROWS, std::vector<char>(COLS));
    VisibleMap isVisible(ROWS, std::vector<bool>(COLS, false)); // –í—Å–µ `false`
    std::vector<Coord> guards;

    // --- 2. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ ---
    for (int r = 0; r < ROWS; ++r) {
        for (int c = 0; c < COLS; ++c) {
            grid[r][c] = map_input[r][c];
            if (grid[r][c] == 'G') {
                guards.push_back({r, c}); // {r, c} - —ç—Ç–æ std::make_pair(r, c)
            }
        }
    }

    // --- 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ ("–ü—É—Å–∫–∞–Ω–∏–µ –ª—É—á–µ–π") ---
    for (const Coord& guardPos : guards) {
        int guard_r = guardPos.first;
        int guard_c = guardPos.second;

        // –û—Ç–º–µ—á–∞–µ–º —è—á–µ–π–∫—É —Å–∞–º–æ–≥–æ –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞ –∫–∞–∫ –≤–∏–¥–∏–º—É—é
        isVisible[guard_r][guard_c] = true;

        // "–°—Ç—Ä–µ–ª—è–µ–º" –≤ 4 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        for (int i = 0; i < 4; ++i) {
            int r = guard_r; // –ù–∞—á–∏–Ω–∞–µ–º —Å –ø–æ–∑–∏—Ü–∏–∏ –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞
            int c = guard_c;

            // –î–≤–∏–≥–∞–µ–º –ª—É—á, –ø–æ–∫–∞ –æ–Ω –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è
            while (true) {
                // –î–µ–ª–∞–µ–º —à–∞–≥
                r += dr[i];
                c += dc[i];

                // –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –í—ã—Ö–æ–¥ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã
                if (!isValid(r, c, ROWS, COLS)) {
                    break; // –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ç–æ—Ç –ª—É—á
                }
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ (—Å—Ç–µ–Ω–∞)
                if (grid[r][c] == '#') {
                    break; // –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ç–æ—Ç –ª—É—á
                }

                // –ï—Å–ª–∏ –¥–æ—à–ª–∏ —Å—é–¥–∞, —è—á–µ–π–∫–∞ (r,c) –≤–∏–¥–Ω–∞
                isVisible[r][c] = true;
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ (–¥—Ä—É–≥–æ–π –æ—Ö—Ä–∞–Ω–Ω–∏–∫)
                if (grid[r][c] == 'G') {
                    break; // –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ç–æ—Ç –ª—É—á (–Ω–æ —è—á–µ–π–∫–∞ G —É–∂–µ –æ—Ç–º–µ—á–µ–Ω–∞)
                }
            }
        }
    }

    // --- 4. –ü–æ–¥—Å—á–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ ---
    int visibleCount = 0;
    
    std::cout << "--- –ö–∞—Ä—Ç–∞ –í–∏–¥–∏–º–æ—Å—Ç–∏ ---" << std::endl;
    for (int r = 0; r < ROWS; ++r) {
        for (int c = 0; c < COLS; ++c) {
            if (isVisible[r][c]) {
                // –°—á–∏—Ç–∞–µ–º, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —è—á–µ–π–∫–∞ –±—ã–ª–∞ –ü–£–°–¢–û–ô ('.')
                if (grid[r][c] == '.') {
                    visibleCount++;
                }
                // –ü—Ä–æ—Å—Ç–æ –¥–ª—è –≤—ã–≤–æ–¥–∞, —á—Ç–æ–±—ã –±—ã–ª–æ –∫—Ä–∞—Å–∏–≤–æ
                std::cout << (grid[r][c] == '.' ? 'V' : grid[r][c]) << " ";
            } else {
                std::cout << grid[r][c] << " ";
            }
        }
        std::cout << std::endl;
    }
    std::cout << "-------------------------" << std::endl;

    std::cout << "–ò—Ç–æ–≥: –û—Ö—Ä–∞–Ω–Ω–∏–∫–∏ –≤–∏–¥—è—Ç " << visibleCount << " –ø—É—Å—Ç—ã—Ö —è—á–µ–µ–∫." << std::endl;

    return 0;
}

```

**–í—ã–≤–æ–¥ —ç—Ç–æ–≥–æ –∫–æ–¥–∞:**

```code-container formatted ng-tns-c2278337176-176 no-decoration-radius
--- –ö–∞—Ä—Ç–∞ –í–∏–¥–∏–º–æ—Å—Ç–∏ ---
V V V V V V V
V # G V V V V
V V V V V V V
V V V V # . .
V G V V V V V
V V V V V V V
-------------------------
–ò—Ç–æ–≥: –û—Ö—Ä–∞–Ω–Ω–∏–∫–∏ –≤–∏–¥—è—Ç 30 –ø—É—Å—Ç—ã—Ö —è—á–µ–µ–∫.

```

*–û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ, –∫–∞–∫ –ª—É—á –æ—Ç `G(1, 2)` –ø–æ—à–µ–ª –≤–Ω–∏–∑ –∏ –≤–ø—Ä–∞–≤–æ, –Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è –Ω–∞ `#` –≤ `(3, 4)`, –Ω–µ –¥–æ–π–¥—è –¥–æ `(3, 5)` –∏ `(3, 6)`. –ê –ª—É—á –æ—Ç `G(4, 1)` —Å–ø–æ–∫–æ–π–Ω–æ –ø—Ä–æ—à–µ–ª –º–∏–º–æ.*



## üß† –ß–∞—Å—Ç—å 7: "–°–ø–ª—é—â–µ–Ω–Ω—ã–π" –í–µ–∫—Ç–æ—Ä (–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Ç–µ—Ö–Ω–∏–∫–∞)

–ö–æ–≥–¥–∞-–Ω–∏–±—É–¥—å —Ç—ã —Å—Ç–æ–ª–∫–Ω–µ—à—å—Å—è —Å –∑–∞–¥–∞—á–µ–π, –≥–¥–µ `vector<vector<T>>` —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2000x2000 —Å–µ—Ç–∫–∞). –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ –∫–∞–∂–¥—ã–π "–≤–∞–≥–æ–Ω" (–∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞) –ª–µ–∂–∏—Ç –≤ *—Ä–∞–∑–Ω—ã—Ö* –º–µ—Å—Ç–∞—Ö –ø–∞–º—è—Ç–∏.

**"–°–ø–ª—é—â–µ–Ω–Ω—ã–π" (Flattened) –≤–µ–∫—Ç–æ—Ä** ‚Äî —ç—Ç–æ –∏–º–∏—Ç–∞—Ü–∏—è 2D-—Å–µ—Ç–∫–∏ —Å –ø–æ–º–æ—â—å—é **–æ–¥–Ω–æ–≥–æ** 1D-–≤–µ–∫—Ç–æ—Ä–∞.

`std::vector<int> grid(ROWS * COLS);`

**–ê–Ω–∞–ª–æ–≥–∏—è: –ê–ø–∞—Ä—Ç-–æ—Ç–µ–ª—å.**

* `vector<vector<T>>`: –≠—Ç–æ –æ—Ç–µ–ª—å. –ù–∞ —Ä–µ—Å–µ–ø—à–µ–Ω–µ (`grid`) –µ—Å—Ç—å —Å–ø–∏—Å–æ–∫ *—É–∫–∞–∑–∞—Ç–µ–ª–µ–π* –Ω–∞ —ç—Ç–∞–∂–∏ (`grid[0]`, `grid[1]`). –ß—Ç–æ–±—ã –ø–æ–ø–∞—Å—Ç—å –≤ 5-—é –∫–æ–º–Ω–∞—Ç—É –Ω–∞ 2-–º —ç—Ç–∞–∂–µ, —Ç—ã –µ–¥–µ—à—å –Ω–∞ –ª–∏—Ñ—Ç–µ –Ω–∞ 2-–π —ç—Ç–∞–∂ (`grid[1]`), –∞ *–ø–æ—Ç–æ–º* –∏—â–µ—à—å 5-—é –¥–≤–µ—Ä—å (`[5]`).
* `vector<T> (1D)`: –≠—Ç–æ –æ—Ç–µ–ª—å, –≥–¥–µ *–≤—Å–µ* –∫–æ–º–Ω–∞—Ç—ã –ø—Ä–æ–Ω—É–º–µ—Ä–æ–≤–∞–Ω—ã *–ø–æ–¥—Ä—è–¥*. –ù–∞ 1-–º —ç—Ç–∞–∂–µ –∫–æ–º–Ω–∞—Ç—ã 101-110. –ù–∞ 2-–º 201-210. –ù–æ –≤ –ø–∞–º—è—Ç–∏ –æ–Ω–∏ –ª–µ–∂–∞—Ç –∫–∞–∫ `[101, 102... 110, 201, 202... 210]`.

–ú–∞–≥–∏—è –ò–Ω–¥–µ–∫—Å–∞—Ü–∏–∏:

–£ –Ω–∞—Å –µ—Å—Ç—å —Å–µ—Ç–∫–∞ ROWS x COLS. –ú—ã —Ö–æ—Ç–∏–º —è—á–µ–π–∫—É grid[r][c].

–ö–∞–∫ –Ω–∞–π—Ç–∏ –µ–µ –∏–Ω–¥–µ–∫—Å –≤ flat_grid?

–ß—Ç–æ–±—ã –¥–æ–±—Ä–∞—Ç—å—Å—è –¥–æ `r`-–æ–π —Å—Ç—Ä–æ–∫–∏, –Ω–∞–º –Ω—É–∂–Ω–æ *–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å* –≤—Å–µ —è—á–µ–π–∫–∏ –∏–∑ `r` –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å—Ç—Ä–æ–∫ (—Å—Ç—Ä–æ–∫–∏ 0, 1, ..., r-1).

* –í –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–µ `COLS` —è—á–µ–µ–∫.
* –í—Å–µ–≥–æ –ø—Ä–æ–ø—É—â–µ–Ω–æ —è—á–µ–µ–∫: `r * COLS`.
* –¢–µ–ø–µ—Ä—å –≤ *—ç—Ç–æ–π* `r`-–æ–π —Å—Ç—Ä–æ–∫–µ –Ω–∞–º –Ω—É–∂–Ω–∞ `c`-–∞—è —è—á–µ–π–∫–∞.

**–§–æ—Ä–º—É–ª–∞: `index = r * COLS + c`**

–ü—Ä–∏–º–µ—Ä: –°–µ—Ç–∫–∞ 5x10 (ROWS=5, COLS=10). std::vector<int> grid(50);

–•–æ—Ç–∏–º grid[2][3] (—Å—Ç—Ä–æ–∫–∞ 2, —Å—Ç–æ–ª–±–µ—Ü 3).

index = 2 * 10 + 3 = 23.

–ú—ã –æ–±—Ä–∞—â–∞–µ–º—Å—è –∫ grid[23].

* **–ü–ª—é—Å:** –ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –±—ã—Å—Ç—Ä–æ. –í—Å—è –ø–∞–º—è—Ç—å –ª–µ–∂–∏—Ç –æ–¥–Ω–∏–º –∫—É—Å–∫–æ–º.
* **–ú–∏–Ω—É—Å:** –°–ª–æ–∂–Ω–µ–µ –¥—É–º–∞—Ç—å. `isValid` –æ—Å—Ç–∞–µ—Ç—Å—è —Ç–∞–∫–∏–º –∂–µ, –Ω–æ –¥–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç—É `grid[r * COLS + c]` –≤—ã–≥–ª—è–¥–∏—Ç —Å—Ç—Ä–∞—à–Ω–æ.

–ù–∞—á–∏–Ω–∞–π *–≤—Å–µ–≥–¥–∞* —Å `vector<vector<T>>`. –ü–µ—Ä–µ—Ö–æ–¥–∏ –Ω–∞ "—Å–ø–ª—é—â–µ–Ω–Ω—ã–π" —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É–ø–∏—Ä–∞–µ—à—å—Å—è –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.



